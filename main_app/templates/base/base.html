<!DOCTYPE html>
<html lang="zh" class="theme-default">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="å±‚æ¥¼ä¸ªäººåšå®¢">
  <link rel="shortcut icon" href="{{ url_for('static', filename='images/logos/favicon.ico') }}" />
  <link rel="bookmark" href="{{ url_for('static', filename='images/logos/favicon.ico') }}" />
  <meta name="author" content="aon">
  <title>{% block stitle %}{% endblock %}--å±‚æ¥¼</title>
  <!-- Bootstrap core CSS -->
  <link href="{{ url_for('static', filename='vendor/bootstrap/css/bootstrap.min.css') }}" rel="stylesheet">
  <!-- Custom fonts for this template -->
  <link href="{{ url_for('static', filename='vendor/fontawesome-free/css/all.min.css') }}" rel="stylesheet"
    type="text/css">
  <!-- Custom styles for this template -->
  <link href="{{ url_for('static', filename='css/clean-blog.min.css') }}" rel="stylesheet">
  <!--Aplayer-->
  <link href="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.css" rel="stylesheet">
  {% block style %}{% endblock %}
  <style type="text/css">
    #wxqrcode {
      position: absolute;
      background-color: white;
      border: 1px solid #EDEEED;
      border-radius: 5px;
      padding: 0 2px;
      height: 400px;
      left: 50%;
      top: 35%;
      box-sizing: border-box;
      transform: translate(-50%, -20%);
      display: none;
      z-index: 10;
    }

    #close:hover {
      cursor: pointer;
    }
  </style>
  <style>
    #scrollSearchDiv{
      position:fixed;
      bottom: 80px;
      right: 15px;
      width: 50px;
      line-height: 40px;
      text-align: center;
      font-size: 40px;
    }
    .add{
      position:fixed;
      bottom: 120px;
      right: 15px;
      width: 50px;
      line-height: 40px;
      text-align: center;
      font-size: 24px;
    }
    .edit{
      position:fixed;
      bottom: 150px;
      right: 15px;
      width: 50px;
      line-height: 40px;
      text-align: center;
      font-size: 24px;
    }
  </style>
  <style>
    .theme-default {

   }
    .theme-first {
      --accent-color: #CBDCD8;
      --font-color: #342c47;
   }
   
   .theme-second {
      --accent-color: #1C1E2A;
      --font-color: #97A2AF;
   }
   .theme-second a{
     color: #97A2AF;
   }
   
   .theme-third {
      --accent-color: #b49c73;
      --font-color: #565d47;
   }
   
   body {
       background-color: var(--accent-color);
       color: var(--font-color);
   }
   .color-select{
     line-height: 38px;
   }
   .color-select button {
    -moz-appearance: none;
    appearance: none;
    border: 2px solid;
    border-radius: 9999px;
    cursor: pointer;
    height: 20px;
    margin: 0;
    outline: 0;
    width: 20px;
  }

  /* Style each swatch to match the corresponding theme */
  .color-select button:nth-child(1) { background: #ffffff; border-color:  #000000; }
  .color-select button:nth-child(2) { background: #CBDCD8; border-color:  #342c47; }
  .color-select button:nth-child(3) { background: #1C1E2A; border-color: #97A2AF; }
  .color-select button:nth-child(4) { background: #b49c73; border-color: #565d47; }
  </style>
</head>

<body>
  {% block nav %}
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
    <div class="container">
      <a class="navbar-brand pt-1" href="{{ url_for('bp_home.home') }}">
        <img src="{{ url_for('static', filename='images/logos/favicon.ico') }}">
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
        data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
        aria-label="Toggle navigation">
        Menu
        <i class="fas fa-bars"></i>
      </button>
      <div class="collapse navbar-collapse" id="navbarResponsive">
        <ul class="navbar-nav ml-auto">
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('bp_home.home') }}">é¦–é¡µ</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('bp_about.about') }}">å…³äº</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('bp_contact.contact') }}">ç•™è¨€</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="{{ url_for('bp_link.list') }}">å‹é“¾</a>
          </li>
          <li class="nav-item">
            <span class="color-select">
              <button onclick="toggleDefaultTheme()"></button>
              <button onclick="toggleFirstTheme()"></button>
              <button onclick="toggleSecondTheme()"></button>
              <button onclick="toggleThirdTheme()"></button>
            </span>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  {% endblock %}

  <!-- Page Header -->
  <header class="masthead mb-3" style="height: 200px">
    <div class="overlay"></div>
    <div class="container">
      <div class="row">
        <div class="col-lg-10 col-md-10 mx-auto">
          <div class="page-heading mt-0 p-5">
            <h1>{% block title %}{% endblock %}</h1>
            <span class="subheading">{% block sub_title %}{% endblock %}</span>
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <div id="wxqrcode">
    <p class="text-right m-0">
      <svg t="1577278693599" id="close" class="icon" viewBox="0 0 1024 1024" version="1.1"
        xmlns="http://www.w3.org/2000/svg" p-id="5973" width="20" height="20">
        <path
          d="M510.165333 453.482667L270.634667 213.952l-60.330667 60.352 239.530667 239.530667L210.304 753.365333l60.330667 60.330667 239.530666-239.530667L512 576l1.834667-1.834667 239.530666 239.530667 60.330667-60.330667-239.530667-239.530666 239.530667-239.530667-60.330667-60.352-239.530666 239.530667-1.834667-1.813334z"
          p-id="5974"></path>
      </svg>
    </p>
    <img alt="è¯·ç”¨å¾®ä¿¡æ‰«æäºŒç»´ç " id="qrcode" style="padding: 0 10px;margin-bottom: 10px">
    <p class="text-center m-0">è¯·ç”¨å¾®ä¿¡æ‰«ç åˆ†äº«</p>
  </div>

  {% if current_user.is_authenticated %}
  <div class="add">
    <a href="{{ url_for('bp_post.add') }}" id="add" title="æ·»åŠ æ–‡ç« ">
        <i class="fas fa-plus"></i>
    </a>
  </div>
  {% endif %}
  <div id="scrollSearchDiv">
      <a id="go" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-angle-up"></i></a>
  </div>
  <div id="aplayer">
    <pre class="aplayer-lrc-content">
      [00:00.00] ä½œæ›² : æ—ä¸€å³°
      [00:01.00] ä½œè¯ : æ˜“å®¶æ‰¬
      [00:24.898]å¬è§ å†¬å¤©çš„ç¦»å¼€
      [00:29.697]æˆ‘åœ¨æŸå¹´æŸæœˆ é†’è¿‡æ¥
      [00:34.768]æˆ‘æƒ³ æˆ‘ç­‰ æˆ‘æœŸå¾…
      [00:40.598]æœªæ¥å´ä¸èƒ½å› æ­¤å®‰æ’
      [00:53.398]é˜´å¤© å‚æ™š è½¦çª—å¤–
      [00:58.758]æœªæ¥æœ‰ä¸€ä¸ªäººåœ¨ç­‰å¾…
      [01:04.298]å‘å·¦å‘å³å‘å‰çœ‹
      [01:09.599]çˆ±è¦æ‹å‡ ä¸ªå¼¯æ‰æ¥
      [01:14.369]æˆ‘é‡è§è° ä¼šæœ‰æ€æ ·çš„å¯¹ç™½
      [01:19.638]æˆ‘ç­‰çš„äºº ä»–åœ¨å¤šè¿œçš„æœªæ¥
      [01:24.839]æˆ‘å¬è§é£æ¥è‡ªåœ°é“å’Œäººæµ·
      [01:30.399]æˆ‘æ’ç€é˜Ÿ æ‹¿ç€çˆ±çš„å·ç ç‰Œ
      [01:56.388]é˜´å¤© å‚æ™š è½¦çª—å¤–
      [02:02.298]æœªæ¥æœ‰ä¸€ä¸ªäººåœ¨ç­‰å¾…
      [02:06.650]å‘å·¦å‘å³å‘å‰çœ‹
      [02:12.000]çˆ±è¦æ‹å‡ ä¸ªå¼¯æ‰æ¥
      [02:16.980]æˆ‘é‡è§è° ä¼šæœ‰æ€æ ·çš„å¯¹ç™½
      [02:22.289]æˆ‘ç­‰çš„äºº ä»–åœ¨å¤šè¿œçš„æœªæ¥
      [02:27.989]æˆ‘å¬è§é£æ¥è‡ªåœ°é“å’Œäººæµ·
      [02:32.688]æˆ‘æ’ç€é˜Ÿ æ‹¿ç€çˆ±çš„å·ç ç‰Œ
      [02:43.380]æˆ‘å¾€å‰é£ é£è¿‡ä¸€ç‰‡æ—¶é—´æµ·
      [02:48.298]æˆ‘ä»¬ä¹Ÿæ›¾åœ¨çˆ±æƒ…é‡Œå—ä¼¤å®³
      [02:53.689]æˆ‘çœ‹ç€è·¯ æ¢¦çš„å…¥å£æœ‰ç‚¹çª„
      [02:58.748]æˆ‘é‡è§ä½ æ˜¯æœ€ç¾ä¸½çš„æ„å¤–
      [03:05.888]æ€»æœ‰ä¸€å¤© æˆ‘çš„è°œåº•ä¼šæ­å¼€
    </pre>
  </div>
  {% block edit %}{% endblock %}

  {% block content %}{% endblock %}

  {% block footer %}
  <a href="{{ url_for('bp_admin.user') }}">
    <hr></a>
  <!-- Footer -->
  <footer style="padding: 0">
    <div class="container">
      <div class="row">
        <div class="col-lg-10 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            <li class="list-inline-item">åˆ†äº«åˆ°ï¼š
              <a href="#" class="share" data-type="qq" title="åˆ†äº«åˆ°QQ">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-qq fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#" class="share" data-type="weixin" title="åˆ†äº«åˆ°å¾®ä¿¡">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-weixin fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="#" class="share" data-type="weibo" title="åˆ†äº«åˆ°å¾®åš">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-weibo fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
            <li class="list-inline-item">
              <a href="{{ url_for('bp_home.feed') }}" class="share" data-type="rss" title="RSSè®¢é˜…">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
              </a>
            </li>
          </ul>
          <p class="copyright text-muted">
            <span>åœ¨çº¿é€‰çŒ«ï¼š</span>
            <a href="javascript:show(tororo)">ç™½çŒ«</a>
            <a href="javascript:show(hijiki)">é»‘çŒ«</a>
            Copyright &copy;
            <a href="http://www.icenglou.cn" style="text-decoration: none">www.icenglou.cn</a>
            <img src="{{ url_for('static', filename='images/beian.png') }}">
            <a href="https://beian.miit.gov.cn/" style="text-decoration: none" target="_blank">èµ£ICPå¤‡20000788å·-1</a>
            æœ¬ç«™å·²è‰°éš¾è¿è¡Œäº†
            <b>
              <strong>
                <script language="JavaScript" type="text/javascript">
                  var urodz = new Date("03/18/2020");
                  var now = new Date();
                  var ile = now.getTime() - urodz.getTime();
                  var dni = Math.floor(ile / (1000 * 60 * 60 * 24));
                  document.write(+ dni)
                </script>
              </strong>
            </b>
            å¤©
          </p>
        </div>
      </div>
    </div>
  </footer>
  {% endblock %}
  <!-- Bootstrap core JavaScript -->
  <script src="{{ url_for('static', filename='vendor/jquery/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
  <!-- Custom scripts for this template -->
  <script src="{{ url_for('static', filename='js/clean-blog.min.js') }}"></script>
  <script src="{{ url_for('static', filename='live2DModel/l2dwidget.min.js') }}"></script>
  <!-- APlayer -->
  <script src="https://cdn.bootcss.com/aplayer/1.10.1/APlayer.min.js"></script>
  {% block js %}{% endblock %}
  <script type="text/javascript">
    // éšæœºèƒŒæ™¯å›¾
    function random_bg() {
      $.ajax({
        url: "{{ url_for('bp_tool.random_bg') }}",
        type: "get",
        dataType: "json",
        success: function (ret) {
          if (ret.code == 1001) {
            $("header").css("background-image", "url(" + ret.datas + ")")
          }
        }
      });
    }
    random_bg();

    // åˆ†äº«
    $(".share").click(function () {
      var stype = $(this).data('type');
      //è·å–æ–‡ç« æ ‡é¢˜
      var ftit = window.document.title;
      //è·å–ç½‘é¡µä¸­å†…å®¹çš„ç¬¬ä¸€å¼ å›¾ç‰‡åœ°å€ä½œä¸ºåˆ†äº«å›¾
      var flink = $("header").css("background-image").replace('url(','').replace(')','');
      var lk = '';
      var url = window.document.location.href;
      var host = window.location.host;
      var description = window.document.querySelector('meta[name="description"]').getAttribute('content');

      if (typeof flink == 'undefined') {
        flink = '';
      }
      //å½“å†…å®¹ä¸­æ²¡æœ‰å›¾ç‰‡æ—¶ï¼Œè®¾ç½®åˆ†äº«å›¾ç‰‡ä¸ºç½‘ç«™logo
      if (flink == '') {
        lk = 'http://' + host + '/favicon.ico';
      }
      // //ç™¾åº¦ç¼–è¾‘å™¨è‡ªå¸¦å›¾ç‰‡è·å–
      // if(flink.indexOf('ueditor') != -1){
      //     lk = flink;
      // }
      //qqç©ºé—´æ¥å£çš„ä¼ å‚

      console.log(ftit, flink, lk, url, host, description);
      if (stype == 'qzone') {
        window.open('https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?url=' + url + '&title=' + ftit + '&pics=' + lk + '&summary=' + description);
      }
      //æ–°æµªå¾®åšæ¥å£çš„ä¼ å‚
      if (stype == 'weibo') {
        window.open('http://service.weibo.com/share/share.php?url=' + url + '&title=' + ftit + '&pic=' + lk + '&appkey=2706825840');
      }
      //qqå¥½å‹æ¥å£çš„ä¼ å‚
      if (stype == 'qq') {
        window.open('http://connect.qq.com/widget/shareqq/index.html?url=' + url + '&title=' + ftit + '&pics=' + lk + '&summary=' + description);
      }
      //ç”ŸæˆäºŒç»´ç ç»™å¾®ä¿¡æ‰«æåˆ†äº«ï¼Œä¹Ÿå¯ä»¥ç”¨jquery.qrcode.jsæ’ä»¶å®ç°äºŒç»´ç ç”Ÿæˆ
      if (stype == 'weixin') {
        $.ajax({
          url: '/tool/share/wxqrcode',
          data: { url: url },
          type: 'get',
          dataType: 'json',
          success: function (ret) {
            if (ret.code == 1001) {
              console.log(ret.datas);
              $('#qrcode').attr('src', ret.datas);
              $('#wxqrcode').show();
            } else {

            }
          }
        })
      }
    });

    // å…³é—­äºŒç»´ç 
    $("#close").click(function () {
      $('#wxqrcode').hide();
    });
  </script>
  <script>
  // è¿”å›é¡¶éƒ¨
  $(function () {
    //ç»‘å®šæ»šåŠ¨æ¡äº‹ä»¶
    $(window).bind("scroll", function () {
        var sTop = $(window).scrollTop();
        var sTop = parseInt(sTop);
        if (sTop >= 130) {
            if (!$("#scrollSearchDiv").is(":visible")) {
                try {
                    $("#scrollSearchDiv").slideDown();
                } catch (e) {
                    $("#scrollSearchDiv").show();
                }
            }
        }
        else {
            if ($("#scrollSearchDiv").is(":visible")) {
                try {
                    $("#scrollSearchDiv").slideUp();
                } catch (e) {
                    $("#scrollSearchDiv").hide();
                }
            }
        }
    });
  });

  jQuery.fn.myScrollTo = function(speed) {
    var targetOffset = $(this).offset().top;
    console.log(targetOffset);//å»é™¤é»˜è®¤æ ·å¼åæ˜¯ 0
    //$(this).offset()ï¼šè·å¾—ä½ç§»å¯¹è±¡ï¼ˆæ­¤æ—¶å…¶å®å•¥ä¹Ÿæ²¡åšï¼‰
    //$(this).offset().topï¼šè·å¾—ä½ç§»é«˜åº¦
    $('html,body').stop().animate({scrollTop: targetOffset}, speed);
    return this;
  };
  $("#go").click(function(){
    $("body").myScrollTo(500);//è°ƒç”¨ï¼Œå¹¶ä¼ å…¥é€Ÿåº¦
    return false;//é˜»æ­¢é»˜è®¤äº‹ä»¶
  });

  // çŒ«ğŸ±
  var tororo = "{{ url_for('static', filename='live2DModel/tororo/assets/tororo.model.json') }}";
  var hijiki = "{{ url_for('static', filename='live2DModel/hijiki/assets/hijiki.model.json') }}";

  // é…ç½®æ–‡ä»¶å®˜æ–¹API: https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-init
  var config = {
      model: {
          jsonPath: '', // xxx.model.json çš„è·¯å¾„
      },
      display: {
          superSample: 1, // è¶…é‡‡æ ·ç­‰çº§
          width: 350, // canvasçš„å®½åº¦
          height: 500, // canvasçš„é«˜åº¦
          position: 'left', // æ˜¾ç¤ºä½ç½®ï¼šå·¦æˆ–å³
          hOffset: 0, // canvasæ°´å¹³åç§»
          vOffset: 0, // canvaså‚ç›´åç§»
      },
      mobile: {
          show: true, // æ˜¯å¦åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæ˜¾ç¤º
          scale: 1, // ç§»åŠ¨è®¾å¤‡ä¸Šçš„ç¼©æ”¾
          motion: true, // ç§»åŠ¨è®¾å¤‡æ˜¯å¦å¼€å¯é‡åŠ›æ„Ÿåº”
      },
      react: {
          opacityDefault: 1, // é»˜è®¤é€æ˜åº¦
          opacityOnHover: 1, // é¼ æ ‡ç§»ä¸Šé€æ˜åº¦
      },
  }
  function show(path) {
    config.model.jsonPath = path;
    L2Dwidget.init(config)
  }

  window.onload = function () {
      show(tororo);
  }

  // ä¸»é¢˜é¢œè‰²
  // Set a given theme/color-scheme
  function setTheme(themeName) {
    localStorage.setItem('theme', themeName);
    document.documentElement.className = themeName;
  }

  // Toggle between color themes
  function toggleDefaultTheme() {
    if (localStorage.getItem('theme') !== 'theme-default'){
        setTheme('theme-default');
    }
  }
  function toggleFirstTheme() {
    if (localStorage.getItem('theme') !== 'theme-first'){
        setTheme('theme-first');
    }
  }
  function toggleSecondTheme() {
    if (localStorage.getItem('theme') !== 'theme-second'){
        setTheme('theme-second');
    }
  }
  function toggleThirdTheme() {
    if (localStorage.getItem('theme') !== 'theme-third'){
        setTheme('theme-third');
    }
  }

  // Immediately set the theme on initial load
  (function () {
    if (localStorage.getItem('theme') === 'theme-default') {
        setTheme('theme-default');
    }
    if (localStorage.getItem('theme') === 'theme-first') {
        setTheme('theme-first');
    }
    if (localStorage.getItem('theme') === 'theme-second') {
        setTheme('theme-second');
    }
    if (localStorage.getItem('theme') === 'theme-third') {
        setTheme('theme-third');
    }
  })();

  // éŸ³ä¹æ’­æ”¾å™¨
  const ap = new APlayer({
    container: document.getElementById('aplayer'),
    lrcType: 2,
    fixed: true,
    audio: [{
        name: 'é‡è§',
        artist: 'å­™ç‡•å§¿',
        url: "{{ url_for('static', filename='music/meet.mp3') }}",
        cover: 'http://y.gtimg.cn/music/photo_new/T002R300x300M000002ehzTm0TxXC2.jpg'
    }]
  });
</script>
</body>
</html>
